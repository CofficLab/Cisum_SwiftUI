---
globs: *.swift
alwaysApply: false
---

# Swift 文件预览代码规则

每个 Swift 文件底部都应该添加预览代码，用于在 Xcode 中快速预览视图效果

## 规则说明

- 所有 Swift 文件（包括 SwiftUI 视图文件）都应在文件末尾添加预览代码
- 使用 `ContentView().inRootView().withDebugBar()` 作为标准预览模板
- `withDebugBar()` 会自动应用可切换的尺寸预设（500×800、600×900、800×1000、1000×1200）
- 预览代码应该放在文件的最后，在所有其他代码之后
- 特殊调试视图（如 UserDefaultsDebugView）可保留单独的预览配置

## 标准预览模板

```swift
// MARK: Preview

#Preview("App") {
    ContentView()
        .inRootView()
        .withDebugBar()
}
```

## 完整示例

```swift
import SwiftUI

struct MyView: View {
    var body: some View {
        Text("Hello World")
    }
}

// MARK: Preview

#Preview("App") {
    ContentView()
        .inRootView()
        .withDebugBar()
}
```

## 注意事项

- `withDebugBar()` 会自动应用保存的尺寸预设，首次使用默认 600×900
- 尺寸切换通过预览面板右下角的尺寸选择器完成，更改后需重新打开预览生效
- 如果文件包含多个视图，可以为每个视图添加单独的预览
- 调试视图可以保持固定的 frame 尺寸，不需要使用 `withDebugBar()`
